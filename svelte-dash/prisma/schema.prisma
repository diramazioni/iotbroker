generator client {
  provider = "prisma-client-js"
}

// python client


// generator client {
//   provider             = "prisma-client-py"
//   interface            = "asyncio"
//   recursive_type_depth = "5"
// }

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Device {
  id                    Int                    @id @default(autoincrement())
  name                  String
  calibration           Boolean?
  location              String?
  areaServed            String?
  timestamp             DateTime
  etrometers            ETRometer[]
  weatherStation        WeatherStation?
  weatherStationVirtual WeatherStationVirtual?
}

model Camera {
  id        Int      @id @default(autoincrement())
  timestamp DateTime
  picture   String
}

model WeatherStationVirtual {
  id          Int      @id @default(autoincrement())
  timestamp   DateTime
  temperature Float
  pressure    Float
  humidity    Float
  wind_speed  Float
  wind_deg    Float
  rain        Float
  deviceId    Int      @unique
  device      Device   @relation(fields: [deviceId], references: [id])
}

model WeatherStation {
  id                  Int      @id @default(autoincrement())
  timestamp           DateTime
  Battery_Voltage     Float
  Solar_Panel_Voltage Float
  Temperature         Float
  Pressure            Float
  Humidity            Float
  GasResistance       Float
  Altitude            Float
  Ts_1                Float
  Ts_2                Float
  Ts_3                Float
  Us_1                Float
  Us_2                Float
  Us_3                Float
  W_vel               Float
  W_dir               Float
  deviceId            Int      @unique
  device              Device   @relation(fields: [deviceId], references: [id])
}

model ETRometer {
  id        Int      @id @default(autoincrement())
  timestamp DateTime
  name      String
  charge    Float
  CO2       Float
  TC        Float
  RH        Float
  deviceId  Int
  device    Device   @relation(fields: [deviceId], references: [id])
}

model Units {
  id    Int    @id @default(autoincrement())
  name  String @unique
  value String
  type  String
}
